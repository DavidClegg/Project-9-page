<style>
    :root{
        --col: rgb(96, 138, 185);
        --back: rgb(183, 227, 235);
        --highlight: red;
        --lightCol: black;
        --lightHighlight: red;
        --lightBack: white;
        --lightBack:#3b89ac;
        --darkCol: white;
        --darkHighlight: red;
        --darkBack: black;
        --darkBack: #011324;
    }
    body{
        font-family: Verdana, Geneva, Tahoma, sans-serif;
        height: 100%;
        color: var(--col);
        background: var(--back);
        font-size: 18px;
    }
    body > section {
        background: var(--back);
    }
    body.light{
        --col: var(--lightCol);
        --back: var(--lightBack);
        --highlight: var(--lightHighlight);
    }
    body.dark{
        --col: var(--darkCol);
        --back: var(--darkBack);
        --highlight: var(--darkHighlight);
    }
    body.dark h2{
        text-shadow: 00px 00px 3rem var(--darkCol);
    }
    /* MENU BAR */
    menu{
        color: black;
        padding: 1rem;
        background: #ffffff99;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .themeSection{
        display:flex;
        place-items: center;
        place-content: center;
        gap: 1rem;
    }
    menu > div{
        flex-grow: 1;
        text-align: center;
    }
    menu > nav{
        flex-grow: 2;
        display: flex;
        justify-content: space-around;
    }
    section{
        min-height: 90%;
        margin-bottom: -1.9em;
        padding: 0rem;
    }
    /* I love this scrolling effect */
    h2{ 
        font-family: 'Times New Roman', Times, serif;
        opacity: 80%;
        font-weight: 10000;
        margin:0;
        padding:0;
        position: sticky;
        top: 30%;
        font-size: 8rem;
        z-index: 0;
        text-decoration: underline var(--highlight);
    }
    section > div{
        position: relative;
        z-index: 1;
    }
    /* Custom Theme Colours */
    .theme1{
        --theme1-lightCol:#011f2b;
        --theme1-lightHighlight:#31ff82;
        --theme1-darkCol:#04fbe7;
        --theme1-darkHighlight:#f48840;
        --lightCol:var(--theme1-lightCol);
        --lightHighlight:var(--theme1-lightHighlight);
        --darkCol:var(--theme1-darkCol);
        --darkHighlight:var(--theme1-darkHighlight);
    }
    body.light .theme1{
        background: var(--theme1-lightHighlight);
        border-color: var(--theme1-lightCol);
    }
    body.dark .theme1{
        background: var(--theme1-darkHighlight);
        border-color: var(--theme1-darkCol);
    }
    .theme2{
        --theme2-lightCol:#66081d;
        --theme2-lightHighlight:#f096e2;
        --theme2-darkCol:#c66ae7;
        --theme2-darkHighlight:#fa4c07;
        --lightCol:var(--theme2-lightCol);
        --lightHighlight:var(--theme2-lightHighlight);
        --darkCol:var(--theme2-darkCol);
        --darkHighlight:var(--theme2-darkHighlight);
    }
    body.light .theme2{
        background: var(--theme2-lightHighlight);
        border-color: var(--theme2-lightCol);
    }
    body.dark .theme2{
        background: var(--theme2-darkHighlight);
        border-color: var(--theme2-darkCol);
    }
    .theme3{
        --theme3-lightCol:#850a14;
        --theme3-lightHighlight:#2c0810;
        --theme3-darkCol:#fde6db;
        --theme3-darkHighlight:#6f030c;
        --lightCol:var(--theme3-lightCol);
        --lightHighlight:var(--theme3-lightHighlight);
        --darkCol:var(--theme3-darkCol);
        --darkHighlight:var(--theme3-darkHighlight);
    }
    body.light .theme3{
        background: var(--theme3-lightHighlight);
        border-color: var(--theme3-lightCol);
    }
    body.dark .theme3{
        background: var(--theme3-darkHighlight);
        border-color: var(--theme3-darkCol);
    }
    .theme4{
        --theme4-lightCol:#ffde00;
        --theme4-lightHighlight:#14316b;
        --theme4-darkCol:#adeff1;
        --theme4-darkHighlight:#fcd31b;
        --lightCol:var(--theme4-lightCol);
        --lightHighlight:var(--theme4-lightHighlight);
        --darkCol:var(--theme4-darkCol);
        --darkHighlight:var(--theme4-darkHighlight);
    }
    body.light .theme4{
        background: var(--theme4-lightHighlight);
        border-color: var(--theme4-lightCol);
    }
    body.dark .theme4{
        background: var(--theme4-darkHighlight);
        border-color: var(--theme4-darkCol);
    }
    .theme5{
        --theme5-lightCol:#f9cf01;
        --theme5-lightHighlight:#0d0b17;
        --theme5-darkCol:#f9cf01;
        --theme5-darkHighlight:#1ddffe;
        --lightCol:var(--theme5-lightCol);
        --lightHighlight:var(--theme5-lightHighlight);
        --darkCol:var(--theme5-darkCol);
        --darkHighlight:var(--theme5-darkHighlight);
    }
    body.light .theme5{
        background: var(--theme5-lightHighlight);
        border-color: var(--theme5-lightCol);
    }
    body.dark .theme5{
        background: var(--theme5-darkHighlight);
        border-color: var(--theme5-darkCol);
    }
    #mode{
        cursor: pointer;
        border-radius: 10rem;
        padding: 0rem;
        font-size: 2rem;
        text-align: center;
        text-justify: center;
        padding-bottom: 0.3rem;
        padding-left: 0.2rem;
        padding-right: 0.2rem;
        border: none;
        background-color: rgb(255, 255, 255);
    }
    .container{
        display: grid;
        grid-template-rows: repeat(12, 1fr);
        grid-template-columns: repeat(12, 1fr);
        width: 100%;
        height: 60%;
    }
    /* WELCOME SECTION */
    #welcomeImage{
        grid-column-start: 6;
        grid-column-end: 11;
        grid-row-start: 1;
        grid-row-end: 13;
        /* background: blue; */
    }
    #welcomeImage > img{
        display: none;
        width: 100%;
        border: 0px solid black;
        border-radius: 2rem;
        object-fit: cover;
    }
    .active{
        display: block !important;
    }
    /* PROJECT SECTION */
    #carousel{
        grid-column-start: 5;
        grid-column-end: 13;
        grid-row-start: 1;
        grid-row-end: 13;
        /* background: red; */
        /* border: 1px red solid; */
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        margin-top: 100px;
    }
    .arrow{
        width: 100px;
        place-self: center;
        cursor: pointer;
    }
    .arrow#prev{
        transform: scaleX(-1);
    }
    #slider{
        width: 100%;
        height: 90%;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    #slider > .slide{
        display: none;
    }
    .slide > img{
        width: 720px;
        object-fit: cover;
        object-position: top;
        height: 405px;
    }
    .slide > h3{
        font-size: 32px;
        padding-left: 3rem;
    }
    #slideTimer{
        width: 100%;
    }
    /* Slide Popups */
    .slide > dialog{
        background: #c2c2c2;
        padding:0;
    }
    .slide > dialog > .popup{
        max-width: calc(100% - 4rem);
        width: 100%;
        height: 100%;
        padding: 2rem;
    }
    .popup > img{
        width: 900px;
        max-height: 35rem;
        object-fit: cover;
        object-position: top;
    }

    /* ABOUT ME SECTION */
    #aboutMe{
        grid-column-start: 6;
        grid-column-end: 13;
        grid-row-start: 1;
        grid-row-end: 13;
        /* background: yellowgreen; */
        display: grid;
        grid-template-columns: 3fr auto 1fr;
        grid-template-rows: repeat(5, 1fr);
        font-size: 18px;
    }
    #aboutMe>div{
        display: inline;
        float:left;
        justify-self: center;
        grid-row-start: 2;
        grid-row-end: 5;
    }
    #aboutMe>img{
        width: 300px;
        transform: scaleX(-1);
        display: inline;
        float: right;
        
        grid-row-start: 1;
        grid-row-end: 13;
        grid-column-start: 2;
    }
   /* Extending the theme section */
    .disc{
        height: 30px;
        width: 30px;
        background: red;
        border: 10px solid blue;
    }
    .themeOuter{
        display: inline-block;
    }
    .listContainer{
        z-index: 10;
        display: none;
        position: relative;
        /* padding-top: 1rem; */
    }
    .themeList{
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        list-style-type: none;
        margin-top: 0.5rem;
        padding:0.5rem;
        border-radius: 1rem;
        position: absolute;
    }
    body.light .themeList{background: rgb(233, 233, 233);}
    body.dark .themeList{background: rgb(70,70,70);}
    .themeItem{
        cursor: pointer;
        border-radius: 2rem;
        height: 2rem;
        width: 2rem;
        border: solid 1rem;
    }
    
</style>
<body class="a b c d">
    <menu>
        <nav>
            <a href="#Projects">projects</a>
            <a href="#About">about me</a>
            <a href="article.html">blog</a>
        </nav>
        <div class="themeSection">
            Contrast:
            <button id="mode" data-mode="light" onclick="changeMode()">ðŸŒ“</button>
            Theme:
            <!-- Change the below to a list of some kind -->
            <div class="themeOuter">
                <div id="themeSelect" class="themeItem"></div>
                <div class="listContainer">
                    <ul class="themeList">
                        <li data-number="0"class="themeItem theme1"></li>
                        <li data-number="1"class="themeItem theme2"></li>
                        <li data-number="2"class="themeItem theme3"></li>
                        <li data-number="3"class="themeItem theme4"></li>
                        <li data-number="4"class="themeItem theme5"></li>
                    </ul>
                </div>
            </div>
        </div>
    </menu>
    <section style="min-height: 30%;">
        <h2>Welcome</h2>
        <div class="container">
            <div id="welcomeImage">
                <img src="assets/Use/theme1-alpha-900px.png" class="active" alt="">
                <img src="assets/Use/theme2-alpha-900px.png" class="" alt="">
                <img src="assets/Use/theme3-alpha-900px.png" class="" alt="">
                <img src="assets/Use/theme4-alpha.png" class="" alt="">
                <img src="assets/Use/theme5-alpha-900px.png" class="" alt="">
                
            </div>
        </div>
    </section>
    <section>
        <h2 id="Projects">Projects</h2>
        <div class="container">
            <div id="carousel">
                <div class="arrow icon" id="prev">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100" height="100" viewBox="0 0 100 100" xml:space="preserve">
                        <desc>Created with Fabric.js 5.2.4</desc>
                        <path style="stroke: rgb(255,0,0); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: var(--highlight); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M 46.971 82.136 C 49.800999999999995 84.91799999999999 54.336 84.91799999999999 57.165 82.136 L 84.187 55.114999999999995 C 86.966 52.285999999999994 86.966 47.699999999999996 84.187 44.92099999999999 L 57.165 17.899 C 54.336 15.07 49.8 15.07 46.971 17.899 C 43.312999999999995 21.752000000000002 51.312999999999995 32.532 55.117 42.189 L 17.51 42.189 C 14.875000000000002 42.189 12.73 44.336 12.73 46.921 L 12.73 54.188 C 12.73 56.823 14.876000000000001 58.969 17.51 58.969 L 54.628 58.969 C 50.775 68.091 43.653 77.844 46.971 82.136 z" stroke-linecap="round"/>
                    </svg>
                    <!-- <img src="assets/Use/arrow.svg" alt="" style="transform: scaleX(-1);"> -->
                </div>

                <div id="slider">
                    <div class="slide active">
                        <h3>Swipe Notes</h3>
                        <img src="assets/websites/swipe.jpeg" alt="">
                        <dialog>
                            <div class="popup">
                                <h3>Swipe Notes</h3>
                                <img src="assets/websites/swipe.jpeg" alt="">
                                <p>An implementation of mouse and touch based swiping interactions in a note add.</p>
                                <a href="https://davidclegg.github.io/Swipe-notes/" target="_blank">Link to Preview</a>
                                <a href="https://github.com/DavidClegg/Swipe-notes" target="_blank">Link to Github</a>
                            </div>
                        </dialog>
                    </div>
                    <div class="slide">
                        <h3>Langton's Ant</h3>
                        <img src="assets/websites/langton.png" alt="">
                        <dialog>
                            <div class="popup">
                                <h3>Langton's Ant</h3>
                                <img src="assets/websites/langton.png" alt="">
                                <p>A simple cellular automata rendered to a canvas element.</p>
                                <a href="https://davidclegg.github.io/LangtonsAnt/" target="_blank">Link to Preview</a>
                                <a href="https://github.com/DavidClegg/LangtonsAnt" target="_blank">Link to Github</a>
                            </div>
                        </dialog>
                    </div>
                    <div class="slide">
                        <h3>Coffee Shop</h3>
                        <img src="assets/websites/coffeeshop.jpeg" alt="">
                        <dialog>
                            <div class="popup">
                                <h3>Coffe Shop</h3>
                                <img src="assets/websites/coffeeshop.jpeg" alt="">
                                <p>A fictional coffee shop website built with Wordpress</p>
                                <p>NO PREVIEW AVAILABLE</p>
                            </div>
                        </dialog>
                    </div>
                    <div class="slide">
                        <h3>Paralax Scroll</h3>
                        <img src="assets/websites/paralax.jpeg" alt="">
                        <dialog>
                            <div class="popup">
                                <h3>Paralax Scrolling</h3>
                                <img src="assets/websites/paralax.jpeg" alt="">
                                <p>An implementation of a paralax background effect</p>
                                <a href="https://davidclegg.github.io/parallax-html-effect/" target="_blank">Link to Preview</a>
                                <a href="https://github.com/DavidClegg/parallax-html-effect" target="_blank">Link to Github</a>
                            </div>
                        </dialog>
                    </div>
                    <div class="slide">
                        <h3>Rome Rental</h3>
                        <img src="assets/websites/rome.jpeg" alt="">
                        <dialog>
                            <div class="popup">
                                <h3>Rome Rental</h3>
                                <img src="assets/websites/rome.jpeg" alt="">
                                <p>A mockup website for a home rental in Rome</p>
                                <a href="https://davidclegg.github.io/RomeRental/" target="_blank">Link to Preview</a>
                                <a href="https://github.com/DavidClegg/RomeRental" target="_blank">Link to Github</a>
                            </div>
                        </dialog>
                    </div>
                </div>
                
                <div class="arrow icon" id="next">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100" height="100" viewBox="0 0 100 100" xml:space="preserve">
                        <desc>Created with Fabric.js 5.2.4</desc>
                        <path style="stroke: rgb(255,0,0); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: var(--highlight); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M 46.971 82.136 C 49.800999999999995 84.91799999999999 54.336 84.91799999999999 57.165 82.136 L 84.187 55.114999999999995 C 86.966 52.285999999999994 86.966 47.699999999999996 84.187 44.92099999999999 L 57.165 17.899 C 54.336 15.07 49.8 15.07 46.971 17.899 C 43.312999999999995 21.752000000000002 51.312999999999995 32.532 55.117 42.189 L 17.51 42.189 C 14.875000000000002 42.189 12.73 44.336 12.73 46.921 L 12.73 54.188 C 12.73 56.823 14.876000000000001 58.969 17.51 58.969 L 54.628 58.969 C 50.775 68.091 43.653 77.844 46.971 82.136 z" stroke-linecap="round"/>
                    </svg>
                </div>
            </div>
        </div>
    </section>
    <section>
        <h2 id="About">About Me</h2>
        <div class="container">
            <div id="aboutMe">
                <div>
                    <p>HiðŸ‘‹</p>
                    <p>I'm David</p>
                    <p>I started learning web development 3 years ago. It was rough going, but I perservered and learned a diverse set of skills and interesting effects. Now I feel confident in my abilities to design, develop, and deploy solutions that improve the world around me.</p>
                </div>
                <img src="assets/Use/circrop.png" alt="">
            </div>
        </div>
    </section>
</body>
<script>
    /* Features             | Implementation
        Light/Dark Switch   | Advanced
        Theme Select        | Advanced
        User Preferences    | None
        Carousel            | Advanced
        Project Popup       | None
        Interactive Blog    | None
    */
   Theme:
   {
        // Variables
        const body = document.querySelector("body");
        const mode = document.querySelector("#mode");
        const themeSelect = document.querySelector("#themeSelect");
        const themeContainer = document.querySelector(".listContainer");
        const themeButtons = document.querySelectorAll(".themeList > .themeItem");
        const themeImages = document.querySelectorAll("#welcomeImage > img");
        const light = "light";
        const dark = "dark";
        const themeItem = "themeItem";
        const active = "active";
        const theme = ["theme1","theme2","theme3","theme4","theme5"];
        let modeState = [light, dark][0];
        let currentTheme = theme[0];
        
        // Functions
        function updateModeTheme(){
            mode.innerText = {light: "ðŸŒž", dark: "ðŸŒ“"}[modeState];
            body.className = "";
            body.classList.add(modeState);
            body.classList.add(currentTheme);
            themeSelect.className = themeItem;
            themeSelect.classList.add(currentTheme);
        }
        function changeMode(){
            if(modeState == light){
                modeState = dark;
            } else {
                modeState = light;
            }
            updateModeTheme();
        }
        function changeTheme(i){
            document.querySelector("#welcomeImage .active").classList.remove(active);
            currentTheme = theme[i];
            themeImages[i].classList.add(active);
            updateModeTheme();
        }
        function showThemes(){
            themeContainer.classList.toggle(active)
        };
        
        // Events
        themeSelect.addEventListener("click", e=>{
            showThemes();
        })
        themeButtons.forEach(button => {
            button.addEventListener("click", e=>{
                changeTheme(e.target.dataset.number);
                showThemes();
            })
        })
        // Initial function
        updateModeTheme();
   }

   Carousel:
   {
        // Variables
            const active = "active";
            const slides = document.querySelectorAll("#slider > .slide");
            const length = slides.length;
            const prev = document.querySelector("#prev");
            const next = document.querySelector("#next");
            let index = 0;
            let current = Date.now();
            let buffer = 4000;
            let target = current + buffer;

        // Functions
            function nextImage(){
                selectImage(index + 1);
                setTimer();
            }
            
            function prevImage(){
                selectImage(index - 1);
                setTimer();
            }

            function selectImage(value){
                slides[index].classList.remove(active);
                index = value < 0? length - 1: value == length? 0 : value
                slides[index].classList.add(active);
            }

            function setTimer(){
                current = Date.now();
                target = current + buffer;
            }
            
            // Event Listeners
            next.addEventListener("click", nextImage);
            prev.addEventListener("click", prevImage);
            
            // Main loop
            setInterval(function(){
                current = Date.now();
                // console.log(`Current: ${current} | Target: ${target} | Remaining: ${target - current}`)
                if(current > target){
                    nextImage();
                }
            }, 100)

    // Dialog Popup        
        // Functions
            function popup(element){
                console.log("CLICK")
                console.log(element)
                let dialog = element.querySelector("dialog");
                console.log(dialog)
            };
            
            function pauseTimer(){
                // set the target to double current. It will take like 40 years to reach so I don't really worry.
                target = target * 2;
                console.log(target)
            }
        // Event Listeners
        slides.forEach(slide => {
            let dialog = slide.querySelector("dialog");
            let popup = dialog.querySelector(".popup");
            slide.addEventListener("click", event=>{
                dialog.showModal();
                pauseTimer();
            });
            popup.addEventListener("click", event=>{
                event.stopPropagation();
            });
            dialog.addEventListener("click", event=>{
                event.stopPropagation();
                dialog.close();
                console.log("CLOSE")
            });
            dialog.addEventListener("close", event=>{
                target = Date.now() + buffer;
            });
        });
    }
</script>

<!-- <script>
    
    function openDialog(el){
        let id = el.dataset.dialog;
        let target = document.querySelector(id);
        target.showModal();
    }
    let popups = document.querySelectorAll(".popup");
    [...popups].forEach(popup => {
        popup.addEventListener("click",function(event){
        event.stopPropagation();
        })
    }) 
</script> -->